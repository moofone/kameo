# Remote Type Hash (Compile-Time Routing)

Remote messaging requires a stable, compile-time identifier for each message type so the receiver
can route bytes to the correct handler without runtime type information.

In kameo this is provided by:

- `kameo::remote::type_hash::HasTypeHash`
- `kameo::RemoteMessage` (derive macro)

## Why It Exists

On the wire, a remote message is bytes. The receiver must pick the correct `Message<M>` handler.
The type hash is the contract between sender and receiver.

## What You Implement

For most message types you do:

```rust
use kameo::RemoteMessage;
use rkyv::{Archive, Deserialize, Serialize};

#[derive(RemoteMessage, Archive, Serialize, Deserialize, Debug)]
pub struct MyMsg {
    pub n: u64,
}
```

This provides:

- `HasTypeHash` for the message (compile-time constant)
- the rkyv traits required by the remote transport

## Notes

- Sender and receiver must compile against the same message definition (or an equivalent one).
- If you change the message layout, treat it as a wire-compatibility change.

